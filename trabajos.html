<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Archivos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="trabajos">

    <div class="contenido" id="contenedor-archivos">
        <h1 id="titulo"></h1>

        <ul id="lista"></ul>

        <a href="categorias.html" class="volver">Volver</a>
    </div>

    <script>
        // Detectar tipo desde URL
        const params = new URLSearchParams(window.location.search);
        const tipo = params.get("tipo");

        const titulo = document.getElementById("titulo");
        const lista = document.getElementById("lista");

        // Archivos por categoría
        const archivos = {
            finales: [
                { nombre: "Trabajo Final 1", archivo: "archivo1.pdf" },
                { nombre: "Trabajo Final 2", archivo: "archivo2.docx" }
            ],

            tareas: [
                { nombre: "Tarea 1", archivo: "tarea1.pdf" },
                { nombre: "Tarea 2", archivo: "tarea2.pdf" },
                { nombre: "Tarea 3", archivo: "tarea3.pdf" }
            ],

            proyectos: [
                { nombre: "Proyecto 1", archivo: "proyecto1.pdf" },
                { nombre: "Proyecto 2", archivo: "proyecto2.pdf" }
            ],

            examenes: [
                { nombre: "Examen 1", archivo: "examen1.pdf" },
                { nombre: "Examen 2", archivo: "examen2.pdf" }
            ]
        };

        // Títulos
        const nombresBonitos = {
            finales: "Trabajos Finales",
            tareas: "Tareas",
            proyectos: "Proyectos",
            examenes: "Exámenes"
        };

        titulo.textContent = nombresBonitos[tipo];

        archivos[tipo].forEach(item => {
            const li = document.createElement("li");
            li.innerHTML =
                `<a href="archivos/${item.archivo}" target="_blank">${item.nombre}</a>`;
            lista.appendChild(li);
        });
    </script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <!-- Scripts -->
    <script src="auth.js"></script>
    <script src="roles.js"></script>

    <script>
        const rol = localStorage.getItem("rol");

        if (rol === "admin") {
            const boton = document.createElement("a");
            boton.textContent = "Subir Archivo";
            boton.href = "#";
            boton.className = "boton";
            document.getElementById("contenedor-archivos").appendChild(boton);
        }
    </script>

</body>
</html>
